<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • unpivotr</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">unpivotr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/html.html">HTML Tables</a></li>
    <li><a class="dropdown-item" href="../articles/introduction.html">Introduction to unpivotr</a></li>
    <li><a class="dropdown-item" href="../articles/small-multiples.html">Small Multiples</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/nacnudus/unpivotr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/nacnudus/unpivotr/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.4" id="unpivotr-064">unpivotr 0.6.4<a class="anchor" aria-label="anchor" href="#unpivotr-064"></a></h2><p class="text-muted">CRAN release: 2024-11-30</p>
<ul><li>Make tests compatible with recent versions of tzdata (CRAN)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.3" id="unpivotr-063">unpivotr 0.6.3<a class="anchor" aria-label="anchor" href="#unpivotr-063"></a></h2><p class="text-muted">CRAN release: 2023-01-22</p>
<ul><li>Make compatible with dplyr v1.1.0 (<a href="https://github.com/nacnudus/unpivotr/issues/58" class="external-link">#58</a> <a href="https://github.com/DavisVaughan" class="external-link">@DavisVaughan</a>)</li>
<li>Implement <code>as_cells.matrix()</code> (<a href="https://github.com/nacnudus/unpivotr/issues/52" class="external-link">#52</a> <a href="https://github.com/billdenney" class="external-link">@billdenney</a>)</li>
<li>Allow behead() to work on grouped data (<a href="https://github.com/nacnudus/unpivotr/issues/46" class="external-link">#46</a> <a href="https://github.com/billdenney" class="external-link">@billdenney</a>)</li>
<li>Add as_cells.matrix (<a href="https://github.com/nacnudus/unpivotr/issues/41" class="external-link">#41</a> <a href="https://github.com/billdenney" class="external-link">@billdenney</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.2" id="unpivotr-062">unpivotr 0.6.2<a class="anchor" aria-label="anchor" href="#unpivotr-062"></a></h2><p class="text-muted">CRAN release: 2021-08-22</p>
<ul><li>Fix for upstream changes in rlang (<a href="https://github.com/nacnudus/unpivotr/issues/49" class="external-link">#49</a> thanks <a href="https://github.com/lionel-" class="external-link">@lionel-</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.1" id="unpivotr-061">unpivotr 0.6.1<a class="anchor" aria-label="anchor" href="#unpivotr-061"></a></h2><p class="text-muted">CRAN release: 2020-08-03</p>
<ul><li>Fix concatenation of <code>NULL</code> <code>POSIXct</code> (dates) (<a href="https://github.com/nacnudus/unpivotr/issues/39" class="external-link">#39</a> <a href="https://github.com/romainfrancois" class="external-link">@romainfrancois</a>)</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.6.0" id="unpivotr-060">unpivotr 0.6.0<a class="anchor" aria-label="anchor" href="#unpivotr-060"></a></h2><p class="text-muted">CRAN release: 2020-05-08</p>
<ul><li>Change <code>"NNW"</code> to <code>"up-left"</code> etc. Compass directions still work, but the built-in dataset <code>purpose</code> has different names and documentation will gradually change to the new terms.</li>
<li>Patches for upcoming upstream changes</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.1" id="unpivotr-051">unpivotr 0.5.1<a class="anchor" aria-label="anchor" href="#unpivotr-051"></a></h2><p class="text-muted">CRAN release: 2019-03-30</p>
<ul><li>Patch for tibble <code>.name_repair</code> compatibility (<a href="https://github.com/nacnudus/unpivotr/issues/2144" class="external-link">#2144</a> <a href="https://github.com/krlmlr" class="external-link">@krlmlr</a>)</li>
<li>Patch to switch to <code>tidyselect</code> from <code>dplyr</code> functions.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.5.0" id="unpivotr-050">unpivotr 0.5.0<a class="anchor" aria-label="anchor" href="#unpivotr-050"></a></h2><p class="text-muted">CRAN release: 2019-01-02</p>
<div class="section level3">
<h3 id="new-features-0-5-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-5-0"></a></h3>
<ul><li>
<code><a href="../reference/behead.html">behead_if()</a></code> is for tiered headers within the same row or column. It takes filter functions similarly to <code><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">dplyr::filter()</a></code> to decide which cells to treat as headers, and can be applied more than once to the same row or column of headers until every tier has been dealt with.</li>
<li>
<code><a href="../reference/merge_cells.html">merge_rows()</a></code> and <code><a href="../reference/merge_cells.html">merge_cols()</a></code> combines header text when it is split over multiple cells.</li>
</ul></div>
<div class="section level3">
<h3 id="other-changes-0-5-0">Other changes<a class="anchor" aria-label="anchor" href="#other-changes-0-5-0"></a></h3>
<ul><li>
<code><a href="../reference/behead.html">behead()</a></code>, <code><a href="../reference/enhead.html">enhead()</a></code>, <code><a href="../reference/partition.html">partition()</a></code> and <code><a href="../reference/rectify.html">rectify()</a></code> give a more informative error message for non-distinct cells, for example when trying to pass cells from more than one sheet to these functions (<a href="https://github.com/gregrs-uk" class="external-link">@gregrs-uk</a>, <a href="https://github.com/nacnudus/unpivotr/issues/15" class="external-link">#15</a>).</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.4.0" id="unpivotr-040">unpivotr 0.4.0<a class="anchor" aria-label="anchor" href="#unpivotr-040"></a></h2><p class="text-muted">CRAN release: 2018-06-26</p>
<p>This version makes some big breaking changes for the sake of a more intuitive grammar. It comes with much more documentation in the online book <a href="https://nacnudus.github.io/spreadsheet-munging-strategies/" class="external-link">Spreadsheet Munging Strategies</a>.</p>
<p>The main new workhorses:</p>
<ul><li>
<code><a href="../reference/behead.html">behead()</a></code> takes one level of headers from a pivot table and make it part of the data. Chain this function to gradually strip every level of header away until you have tidy data.</li>
<li>
<code><a href="../reference/spatter.html">spatter()</a></code> is a data-type aware version of <code><a href="https://tidyr.tidyverse.org/reference/spread.html" class="external-link">tidyr::spread()</a></code> and is a common final step.</li>
<li>
<code><a href="../reference/partition.html">partition()</a></code> breaks up small-multiples on a single sheet, so you can handle them individually.</li>
<li>
<code><a href="../reference/rectify.html">rectify()</a></code> visualises the cells in the console as they would look in a spreadsheet.</li>
</ul><div class="section level3">
<h3 id="breaking-changes-0-4-0">Breaking changes<a class="anchor" aria-label="anchor" href="#breaking-changes-0-4-0"></a></h3>
<p>The previous version can be installed as follows.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_version</span><span class="op">(</span><span class="st">"unpivotr"</span>, version <span class="op">=</span> <span class="st">"0.3.1"</span>, repos <span class="op">=</span> <span class="st">"http://cran.us.r-project.org"</span><span class="op">)</span></span></code></pre></div>
<ul><li>The family of functions <code>NNW()</code> etc. has been removed in favour of the verbose <code>join_header()</code>, which has itself been renamed to <code><a href="../reference/enhead.html">enhead()</a></code> to suggest its similarity to <code><a href="../reference/behead.html">behead()</a></code> (though they are <em>not</em> complements).</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code> now follows the tidyverse convention of <code>fct</code> for ‘factor’ and <code>ord</code> for ‘ordered factor’.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) now uses <code>col_names</code> and <code>row_names</code> as arguments instead of <code>colnames</code> and <code>rownames</code>, for consistency with tidyr.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-4-0">New features<a class="anchor" aria-label="anchor" href="#new-features-0-4-0"></a></h3>
<ul><li>
<code><a href="../reference/behead.html">behead()</a></code> is takes one level of headers from a pivot table and make it part of the data. Think of it like <code><a href="https://tidyr.tidyverse.org/reference/gather.html" class="external-link">tidyr::gather()</a></code>, except that it works when there is more than one row of headers (or more than one column of row-headers), and it only works on tables that have first come through <code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code> or <code><a href="https://nacnudus.github.io/tidyxl/reference/xlsx_cells.html" class="external-link">tidyxl::xlsx_cells()</a></code>.</li>
<li>
<code><a href="../reference/rectify.html">rectify()</a></code> displays cells as though in a spreadsheet, rather than in the ‘melted’ form of <code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) and <code><a href="https://nacnudus.github.io/tidyxl/reference/xlsx_cells.html" class="external-link">tidyxl::xlsx_cells()</a></code>. This is useful for understanding the structure of a pivot table as a human, when planning how to unpivot it. A print method is available to render large datasets in the browser or the RStudio viewer pane.</li>
<li>
<code><a href="../reference/partition.html">partition()</a></code> divides a grid of cells into partitions containing individual tables. Give it the corner cells of each table on a spreadsheet.</li>
<li>
<code><a href="../reference/pack.html">pack()</a></code> packs cells values from separate columns per data type into one list-column. <code><a href="../reference/pack.html">unpack()</a></code> is the complement.</li>
<li>
<code><a href="../reference/isolate_sentinels.html">isolate_sentinels()</a></code> move sentinel values into a separate column, leaving <code>NA</code> behind (or <code>NULL</code> for list-columns).</li>
<li>
<code><a href="../reference/spatter.html">spatter()</a></code> is like <code><a href="https://tidyr.tidyverse.org/reference/spread.html" class="external-link">tidyr::spread()</a></code>, but preserves mixed data types.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) now returns a <code>data_type</code> column that names the column that contains the value of a cell, similar to <code><a href="https://nacnudus.github.io/tidyxl/reference/xlsx_cells.html" class="external-link">tidyxl::xlsx_cells()</a></code>.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code> now follows the tidyverse convention of <code>fct</code> for ‘factor’ and <code>ord</code> for ‘ordered factor’.</li>
<li>
<code><a href="../reference/enhead.html">enhead()</a></code> (formerly <code>join_header()</code>) gains a <code>drop = TRUE</code> argument to control whether to discard cells that don’t have a matching header (e.g. ones that are left of the leftmost header in <code>enhead(x, y, "NNW")</code>).</li>
<li>
<code><a href="../reference/justify.html">justify()</a></code> moves one set of cells to the same positions as another set. This is useful when header cells aren’t at the corner of the cells they describle. Put the header cells into <code><a href="../reference/justify.html">justify()</a></code>, along with cells that <em>are</em> at the corner.</li>
<li>New vignette ‘worked-examples’ of common tasks when munging spreadsheets.</li>
<li>The ‘small-multiples’ vignette has been refactored to use the new features.</li>
<li>
<code>purpose</code> (built-in dataset) gains a new list-member <code>small-multiples</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="under-the-hood-0-4-0">Under the hood<a class="anchor" aria-label="anchor" href="#under-the-hood-0-4-0"></a></h3>
<ul><li>No longer depends on the data.table package.</li>
</ul></div>
<div class="section level3">
<h3 id="many-other-tweaks-especially-to-documentation-0-4-0">Many other tweaks especially to documentation<a class="anchor" aria-label="anchor" href="#many-other-tweaks-especially-to-documentation-0-4-0"></a></h3>
</div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.1" id="unpivotr-031">unpivotr 0.3.1<a class="anchor" aria-label="anchor" href="#unpivotr-031"></a></h2><p class="text-muted">CRAN release: 2018-01-20</p>
<ul><li>Performance improvements to <code><a href="../reference/tidy_table.html">tidy_table()</a></code>.</li>
<li>Fixed a CRAN test on some platforms.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.3.0" id="unpivotr-030">unpivotr 0.3.0<a class="anchor" aria-label="anchor" href="#unpivotr-030"></a></h2><p class="text-muted">CRAN release: 2017-12-03</p>
<ul><li>Made compatible with tidyxl version 1.0.0 (avoids <code><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">dplyr::distinct()</a></code>, which doesn’t handle list columns).</li>
<li>Updated to use the new <code>dplyr</code>/<code>rlang</code> combination instead of the old <code>dplyr</code>/<code>lazyeval</code> one.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.2.1" id="unpivotr-021">unpivotr 0.2.1<a class="anchor" aria-label="anchor" href="#unpivotr-021"></a></h2><p class="text-muted">CRAN release: 2017-07-02</p>
<p>This release overhauls the <code><a href="../reference/tidy_table.html">tidy_table()</a></code> function of unpivotr to preserve the original data types of table cells and to support HTML tables.</p>
<ul><li>
<code>tidytable()</code> has been renamed <code><a href="../reference/tidy_table.html">tidy_table()</a></code>. <code>tidytable()</code> is an error, rather than a deprecation warning, because <code><a href="../reference/tidy_table.html">tidy_table()</a></code> is so different from before.</li>
<li>There is a new <code><a href="../reference/tidy_table.html">tidy_table()</a></code> method and vignette for HTML.</li>
<li>There is no <code><a href="../reference/tidy_table.html">tidy_table()</a></code> method for matrices. Convert matrices to data.frames first, choosing what to do with row and column names.</li>
<li>
<code><a href="../reference/tidy_table.html">tidy_table()</a></code> returns only relevant columns, according to the data types of the columns in the given data frame. It uses <code><a href="https://pillar.r-lib.org/reference/type_sum.html" class="external-link">tibble::type_sum()</a></code> to determine the column type and to name the columns, so whereas characters used to be returned in a column called <code>character</code>, they are now returned in a column called <code>chr</code>. The full list of column names is in <code><a href="../reference/tidy_table.html">?tidy_table</a></code> and is <code>chr</code>, <code>cplx</code>, <code>cplx</code>, <code>dbl</code>, <code>fctr</code>, <code>int</code>, <code>lgl</code>, <code>list</code>. The columns <code>fctr</code> and <code>list</code> are list-columns, where each element is itself a list. This means that factors with different levels are kept separate. For HTML tables, an <code>html</code> column is returned containing the standalone HTML of each cell.</li>
<li>Both <code>rowname</code> and <code>colname</code> arguments to <code><a href="../reference/tidy_table.html">tidy_table()</a></code> now default to <code>FALSE</code>.</li>
<li>All functions consistently return a <code>tibble</code>.</li>
<li>Some error messages are more helpful.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="unpivotr-011">unpivotr 0.1.1<a class="anchor" aria-label="anchor" href="#unpivotr-011"></a></h2><p class="text-muted">CRAN release: 2017-04-23</p>
<ul><li>Fixed breakages introduced by dplyr 0.6.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="unpivotr-010">unpivotr 0.1.0<a class="anchor" aria-label="anchor" href="#unpivotr-010"></a></h2><p class="text-muted">CRAN release: 2017-01-31</p>
<ul><li>Moved images from <code>inst/extdata</code> to <code>vignettes</code>.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="unpivotr-010-1">unpivotr 0.1.0<a class="anchor" aria-label="anchor" href="#unpivotr-010-1"></a></h2><p class="text-muted">CRAN release: 2017-01-31</p>
<ul><li>Bumped version to match tidyxl, which is now more mature.</li>
<li>Updated README and vignettes to use the new tidyxl api.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9000" id="unpivotr-0009000">unpivotr 0.0.0.9000<a class="anchor" aria-label="anchor" href="#unpivotr-0009000"></a></h2>
<ul><li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Duncan Garmonsway.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

